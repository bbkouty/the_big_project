<%# app/views/users/show.html.erb #%>

<div class="card shadow mb-4">
  <div class="card-body">
    <h3 class="card-title text-info">
      <%= @user.first_name %> <%= @user.last_name %>
    </h3>

    <p class="card-text"><strong>Email :</strong> <%= @user.email %></p>
    <p class="card-text"><strong>Âge :</strong> <%= @user.age %> ans</p>
    <p class="card-text"><strong>Description :</strong> <%= @user.description %></p>
    <p class="card-text">
      <strong>Ville :</strong> 
      <%= link_to @user.city.name, city_path(@user.city), class: "text-decoration-none fw-bold" %>
    </p>

    <% if @user.gossips.any? %>
      <h5 class="mt-4">Potins de <%= @user.first_name %> :</h5>
      <ul class="list-group mt-2">
        <% @user.gossips.each do |gossip| %>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <%= link_to gossip.title, gossip_path(gossip), class: "text-decoration-none" %>
            <span class="text-muted"><%= gossip.created_at.strftime("%d/%m/%Y") %></span>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-muted mt-3"><em>Aucun potin publié pour le moment.</em></p>
    <% end %>
  </div>

  <div class="card-footer text-muted d-flex justify-content-between">
    Membre depuis le <%= @user.created_at.strftime("%d/%m/%Y") %>
    <%= link_to "⬅ Retour aux potins", root_path, class: "btn btn-secondary btn-sm" %>
  </div>
</div>
